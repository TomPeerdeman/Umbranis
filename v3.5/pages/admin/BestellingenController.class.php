<?php	//Dit bestand kan alleen vanuit de index aangeroepen worden	if(!defined("INDEX"))die("NO INDEX!");		class BestellingenController extends BaseController{		private $orders;				public function __construct(){			parent::__construct();			if(isset($_GET['did']) && ctype_digit($_GET['did'])){				$did = intval($_GET['did']);				DB::$db->query("DELETE FROM orders WHERE order_id = " . $did);				DB::$db->query("DELETE FROM order_products WHERE order_id = " . $did);			}					$res = DB::$db->query("SELECT order_id, username, total_price, payment_status, delivery_status  FROM orders JOIN users ON users.id = orders.user_id");			while($row = $res->fetch()){				$this->orders[] = $row;			}		}			public function buildPage(){?><div id="contentcontainer">	<h2>Geplaatste bestellingen</h2>	<div id="admincontainer">		<p>Hier staan alle geplaatste bestellingen en hun status.<br /><br /></p>		<table>			<tr>				<td><strong>Order no.</strong></td>				<td><strong>Username</strong></td>				<td><strong>Prijs</strong></td>				<td><strong>Betaald</strong></td>				<td><strong>Afgeleverd</strong></td>				<td>&nbsp;</td>			</tr><?php				foreach($this->orders as $order){					echo "<tr>							<td>" . $order['order_id'] . "</td>							<td>" . $order['username'] . "</td>							<td>&euro;" . $this->price($order['total_price']) . "</td>							<td>" . (($order['payment_status'] == 1) ? "Ja" : "Nee") . "</td>							<td>" . (($order['delivery_status'] == 1) ? "Ja" : "Nee") . "</td>							<td>								<a href=\"?p=admin/bestelling&amp;oid=" . $order['order_id'] . "\">Wijzig</a>&nbsp;								<a href=\"?p=admin/bestellingen&amp;did=" . $order['order_id'] . "\">Verwijder</a>							</td>						</tr>";					}?>		</table>		<p><br /></p>	</div></div><?php		}	}?>